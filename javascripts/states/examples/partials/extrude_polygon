<!DOCTYPE html>
<html ng-app="app">
  <head>
    <title></title>

    <link href="https://api.mapbox.com/mapbox-gl-js/v0.36.0/mapbox-gl.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/angular-mapboxgl-directive/0.36.0/angular-mapboxgl-directive.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.36.0/mapbox-gl.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-mapboxgl-directive/0.36.0/angular-mapboxgl-directive.min.js"></script>

    <script>
      var app = angular.module('app', ['mapboxgl-directive'])

      .run([function () {
        mapboxgl.accessToken = 'pk.eyJ1IjoibmFpbWlrYW4iLCJhIjoiY2lraXJkOXFjMDA0OXdhbTYzNTE0b2NtbiJ9.O64XgZQHNHcV2gwNLN2a0Q';
      }])

      .controller('ExtrudePolygonController', ['$scope', function ($scope) {
        $scope.glSources = [
          {
            id: 'sourceTest',
            type: 'geojson',
            data: {
              type: 'FeatureCollection',
              features: [
                {
                  type: 'Feature',
                  properties: {},
                  geometry: {
                    type: 'Polygon',
                    coordinates: [
                      [
                        [-67.13734351262877, 45.137451890638886],
                        [-66.96466, 44.8097],
                        [-68.03252, 44.3252],
                        [-69.06, 43.98],
                        [-70.11617, 43.68405],
                        [-70.64573401557249, 43.090083319667144],
                        [-70.75102474636725, 43.08003225358635],
                        [-70.79761105007827, 43.21973948828747],
                        [-70.98176001655037, 43.36789581966826],
                        [-70.94416541205806, 43.46633942318431],
                        [-71.08482, 45.3052400000002],
                        [-70.6600225491012, 45.46022288673396],
                        [-70.30495378282376, 45.914794623389355],
                        [-70.00014034695016, 46.69317088478567],
                        [-69.23708614772835, 47.44777598732787],
                        [-68.90478084987546, 47.184794623394396],
                        [-68.23430497910454, 47.35462921812177],
                        [-67.79035274928509, 47.066248887716995],
                        [-67.79141211614706, 45.702585354182816],
                        [-67.13734351262877, 45.137451890638886]
                      ]
                    ]
                  }
                }
              ]
            }
          }
        ];

        $scope.glLayers = [
          {
            id: 'layerTest',
            source: 'sourceTest',
            type: 'fill-extrusion',
            paint: {
              'fill-extrusion-color': '#FF1A47',
              'fill-extrusion-opacity': 0.7,
              'fill-extrusion-height': 15000,
              'fill-extrusion-base': 0
            }
          }
        ];
      }]);
    </script>
  </head>
  <body ng-controller="ExtrudePolygonController">
    <div mapboxgl
      gl-zoom="{ value: 6 }"
      gl-pitch="{ value: 60 }"
      gl-center="{ lat: 45.137451890638886, lng: -68.13734351262877 }"
      gl-sources="glSources"
      gl-layers="glLayers">
    </div>
  </body>
</html>
